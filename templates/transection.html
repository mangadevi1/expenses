{% extends "base.html" %}
{% load static %}

{% block title %}Transactions{% endblock %}

{% block content %}
<div class="container my-4 p-4 bg-white rounded shadow-sm">
  <!-- Header + Add Transaction Button -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="mb-0">Transactions</h5>
    <!-- Button to open offcanvas -->
    <button class="btn btn-primary btn-sm" data-bs-toggle="offcanvas" data-bs-target="#addTransactionDrawer">
      Add Transaction
    </button>
  </div>

  <!-- Transactions Table -->
  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <thead class="thead-light">
        <tr>
          <th>Name</th>
          <th>Category</th>
          <th>Amount</th>
          <th>Transaction Type</th>
          <th>Payment Mode</th>
          <th>Transaction Date</th>
          <th>Identifier Code</th>
        </tr>
      </thead>
      <tbody>
        <!-- Example Data (Replace with Django loop) -->
        <tr>
          <td>AWS Cloud Bill</td>
          <td>IT Assets</td>
          <td>₹28.00</td>
          <td class="text-danger">Debit</td>
          <td>CREDIT CARD</td>
          <td>2025-05-05 22:01</td>
          <td>2153053185</td>
        </tr>
        <tr>
          <td>Payment received</td>
          <td>PRODUCTS INCOME</td>
          <td>₹10000.00</td>
          <td class="text-success">Credit</td>
          <td>OTHERS</td>
          <td>2025-04-28 19:00</td>
          <td>plink_QOMZysEBwP15Af</td>
        </tr>
        <!-- Add more rows or use a for loop -->
      </tbody>
    </table>
  </div>
</div>



<!-- Offcanvas (hidden by default) -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="addTransactionDrawer" aria-labelledby="addTransactionDrawerLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="addTransactionDrawerLabel">Add Transaction</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <form method="POST" action="#">
      {% csrf_token %}

      <div class="mb-3">
        <label class="form-label">Transaction Name</label>
        <input type="text" name="name" class="form-control" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Description</label>
        <input type="text" name="description" class="form-control">
      </div>

      <div class="mb-3">
        <label class="form-label">Amount</label>
        <input type="number" name="amount" class="form-control">
      </div>

      <div class="mb-3">
        <label class="form-label">Currency</label>
        <select class="form-select" name="currency">
          <option>INR</option>
          <option>USD</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Transaction Type</label>
        <select class="form-select" name="transaction_type">
          <option>Credit</option>
          <option>Debit</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Received From</label>
        <input type="text" name="received_from" class="form-control">
      </div>

      <div class="mb-3">
        <label class="form-label">Paid To</label>
        <input type="text" name="paid_to" class="form-control">
      </div>

      <button type="submit" class="btn btn-success w-100">Save Transaction</button>
    </form>
  </div>
</div>

{% endblock %}
